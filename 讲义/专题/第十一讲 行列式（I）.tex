\chapter{行列式（I）}

\section{行列式的几种定义}
很多教材采用``逆序数''定义行列式（感兴趣的同学可以参考丘维声《高等代数》等教材），但是本教材未提及，因此
我们作为复习课也不展开描述.本教材使用公理化定义（使用一些规则描述）并讲解了
递归式定义（按行（列）展开）.

\subsection{公理化定义}
\begin{definition} \label{def:11:公理化定义}
    数域$\mathbf{F}$上的一个$n$阶行列式是取值于$\mathbf{F}$的$n$个$n$维向量
    $\alpha_1,\alpha_2,\ldots,\alpha_n \in \mathbf{F}^n$的一个函数，且$\forall \alpha_i,\beta_i \in \mathbf{F}^n$
    和$\forall \lambda \in \mathbf{F}$，满足下列规则：
    \begin{enumerate}
        \item（齐性）$D(\alpha_1,\ldots,\lambda\alpha_i,\ldots,\alpha_n)=\lambda D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_n)$；

        \item（加性，与 1 合称线性性）

        $D(\alpha_1,\ldots,\alpha_i+\beta_i,\ldots,\alpha_n)=D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_n)+D(\alpha_1,\ldots,\beta_i,\ldots,\alpha_n)$；

        \item（反对称性）$D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_j,\ldots,\alpha_n)=-D(\alpha_1,\ldots,\alpha_j,\ldots,\alpha_i,\ldots,\alpha_n)$；

        \item（规范性）$D(e_1,e_2,\ldots,e_n)=1$.
    \end{enumerate}
\end{definition}
在公理化定义中，我们将行列式定义为一个满足特定的运算性质的从列向量组合到数的函数.
事实上，公理化定义从是逆序数定义可以推导出的行列式的运算性质，教材采用这种定义避开了繁琐的说明.
除此之外，我们不难看出公理化定义可以形象地理解为对$n$维空间中体积的定义，
对几何意义感兴趣的同学可以参考 \href{https://b23.tv/BV1ys411472E}{3b1b《线性代数的本质》系列视频}相关内容.
\begin{example} \label{ex:11:公理化定义}
    使用\autoref{def:11:公理化定义} 验证下述命题的正确性：
    \begin{enumerate}
        \item 若行列式有一列为零向量，则行列式的值等于0.

        \item 若行列式有两列元素相同，则行列式的值等于0.

        \item 若行列式有两列元素成比例，则行列式的值等于0.

        \item 对行列式做倍加列变换，行列式的值不变.

        \item 若$\alpha_1,\alpha_2,\ldots,\alpha_n$线性相关，则$D(\alpha_1,\alpha_2,\ldots,\alpha_n)=0$.
    \end{enumerate}
\end{example}

\begin{example} \label{ex:11:公理化定义2}
    设向量$\alpha_1,\alpha_2,\beta_1,\beta_2$为三维列向量，又$A=(\alpha_1,\alpha_2,\beta_1),B=(\alpha_1,\alpha_2,\beta_2)$，
    且$|A|=3$，$|B|=2$，求$|2A+3B|$.
\end{example}

\subsection{递归式定义}
首先需要回顾余子式和代数余子式的概念：
\begin{definition} \label{def:11:余子式}
    在$n$阶行列式$D=|a_{ij}|_{n \times n}$中，去掉元素$a_{ij}$所在的第$i$行和第$j$列的所有元素
    而得到的$n-1$阶行列式称为元素$a_{ij}$的\keyterm{余子式}[minor]，记作$M_{ij}$，并把数$A_{ij}=(-1)^{i+j}M_{ij}$
    称为元素$a_{ij}$的\keyterm{代数余子式}[cofactor].
\end{definition}
注意，虽然余子式和代数余子式在名称中含有式，但实际上他们是一个值.实际上行列式也称为``式''，但这些``式''
只是形状上有个形式，实际上只是一个值.
\begin{example} \label{ex:11:cofactor}
    根据\autoref{def:11:余子式} 计算行列式$\begin{vmatrix}
        2 & 1 & 3 \\
        -1 & 0 & 2 \\
        1 & 5 & -2
    \end{vmatrix}$每个元素的余子式和代数余子式.
\end{example}

接下来我们便可以给出递归式定义：
\begin{definition} \label{def:11:递归式定义}
    设$D=|a_{ij}|_{n \times n}$，则
    \begin{gather}
        \label{eq:11:递归式定义1}
        D=\sum_{k=1}^{n}a_{kj}A_{kj}=a_{1j}A_{1j}+a_{2j}A_{2j}+\cdots+a_{nj}A_{nj} \quad j=1,2,\ldots,n \\
        \label{eq:11:递归式定义2}
        D=\sum_{k=1}^{n}a_{ik}A_{ik}=a_{i1}A_{i1}+a_{i2}A_{i2}+\cdots+a_{in}A_{in} \quad i=1,2,\ldots,n
    \end{gather}
\end{definition}
其中$A_{ij}$即为\autoref{def:11:余子式} 给出的代数余子式，\autoref{eq:11:递归式定义1} 称为$D$对第$j$列的展开式，\autoref{eq:11:递归式定义2} 称为$D$对第$i$行的展开式.这一定义与公理化定义的
等价性不难证明.事实上，这一定义被称为递归式定义的原因是显然的（如果在程序设计课程中已经学习过递归的概念），它使用$n-1$阶行列式定义$n$阶行列式，我们对任意$n$阶行列式
都可以递归展开到1阶，从而得到最终行列式计算结果.
\begin{example} \label{ex:11:递归式定义}
    利用\autoref{def:11:递归式定义} 计算\autoref{ex:11:cofactor} 中的行列式，可以行列展开均使用并在上述公式中选取不同$i$和$j$以熟悉\autoref*{def:11:递归式定义}，并注意体会递归式定义的含义.
\end{example}

递归式定义有一个相关的结论如下：
\begin{theorem}
    $n$阶行列式$D=|a_{ij}|_{n \times n}$的某一行（列）元素与另一行（列）相应元素的代数余子式
    的乘积之和等于0，即
    \begin{gather}
        \label{eq:11:递归式定义3}
        \sum_{k=1}^{n}a_{kj}A_{ki}=a_{1j}A_{1i}+a_{2j}A_{2i}+\cdots+a_{nj}A_{ni}=0 \quad j \neq i \\
        \label{eq:11:递归式定义4}
        \sum_{k=1}^{n}a_{jk}A_{ik}=a_{j1}A_{i1}+a_{j2}A_{i2}+\cdots+a_{jn}A_{in}=0 \quad j \neq i
    \end{gather}
\end{theorem}
我们若将行列式第$j$列元素替换为第$i$列元素，那么上述\autoref{eq:11:递归式定义3} 根据\autoref{def:11:递归式定义} 就是在求替换后的行列式，
并且有两列元素相同的行列式为0，我们便可以轻松地证明\autoref*{eq:11:递归式定义3}，同理也可证明\autoref*{eq:11:递归式定义4}. 同学们可能
对\crefrange*{eq:11:递归式定义1}{eq:11:递归式定义4} 式繁杂的下标感到陌生，因此安排了\crefrange*{ex:11:公理化定义2}{ex:11:递归式定义} 希望大家熟悉这些公式.
\begin{example} \label{ex:11:递归式定义2}
    对\autoref{ex:11:递归式定义} 中的矩阵验证\autoref{def:11:公理化定义} 的正确性.
\end{example}
这一节中行列式是按照一行（列）展开的，若按多行（列）展开则需要相应的 Laplace 定理，感兴趣的同学可以了解.
\subsection{行列式的常用性质}
设$A,B \in \mathbf{F}^{n \times n}$，$k \in \mathbf{F}$，则
\begin{enumerate}
    \item 一般情况下，$|A \pm B| \neq |A|\pm|B|$；

    \item $|kA|=k^n|A|$；

    \item $A$可逆$\iff |A| \neq 0$；

    \item 初等矩阵行列式（注意初等矩阵不分行列，左乘右乘区分初等行列变换）：$|E_{ij}|=-1,\enspace |E_i(c)|=c,\enspace |E_{ij}(k)|=1$；

    \item 利用4中的结论可以得到$|A^\mathrm{T}|=|A|$:

    \item 利用4中的结论可以得到$|AB|=|A||B|$，$|A^k|=|A|^k$；

    \item 利用4中的结论（求出初等矩阵逆矩阵行列式）可以得到若$A$可逆，则$|A^{-1}|=|A|^{-1}$.
\end{enumerate}

以上性质都可以基于定义或上述其他性质得到，下面介绍的性质需要用到``打洞法''（分块矩阵初等变换）
来证明：

\begin{enumerate}
    \item $\begin{vmatrix}
        A & O \\ O & B
    \end{vmatrix} = \begin{vmatrix}
        A & O \\ C & B
    \end{vmatrix} = \begin{vmatrix}
        A & D \\ O & B
    \end{vmatrix} = |A||B|,\ \begin{vmatrix}
        O & A \\ B & C
    \end{vmatrix} = (-1)^{kr}|A||B|$；

    \item 当$A$可逆时，有$\begin{vmatrix}
        A & B \\ C & D
    \end{vmatrix} = |A||D-CA^{-1}B|$，当$D$可逆时，有
    $\begin{vmatrix}
        A & B \\ C & D
    \end{vmatrix} = |D||A-BD^{-1}C|$，当$B$可逆时，有
    $\begin{vmatrix}
        A & B \\ C & D
    \end{vmatrix} = (-1)^{mn}|B||C-DB^{-1}A|$，当$C$可逆时，有
    $\begin{vmatrix}
        A & B \\ C & D
    \end{vmatrix} = (-1)^{mn}|C||B-AC^{-1}D|$；

    \item 设$A$和$B$分别是$n \times m$和$m \times n$矩阵，则$|E_n \pm AB|=|E_m \pm BA|$,且
    $|\lambda E_n \pm AB|=\lambda^{n-m}|\lambda E_m \pm BA|(n \geqslant m)$.
\end{enumerate}

还有一部分由这些性质可以推导的其他性质将出现在C组习题中供参考.这部分主要是技巧性内容，可以选择性完成.

\section{行列式的基本运算}
本节内容按照往年经验不是考试重点，实际上行列式这章在往年单独出现的
频率较低，一般都在求解特征值或者作为判断可逆等情况下作为结论使用，但是我们仍然需要掌握基本的行列式计算方法，
至少教材中给出的例题需要熟悉.

一般而言行列式的计算方法有根据定义求解（包括逆序数定义（包括低阶行列式直接计算公式）、公理化定义和递归式定义（或 Laplace 定理））、
高斯消元法化为上三角矩阵求解、拆分法（大拆分法、小拆分法）求解、加边法（升阶法）求解、特殊行列式求解
（如``箭形''行列式，循环行列式，Vandermonde 行列式）、递推法求解、数学归纳法求解（这两种方法一般用于大对角形）、
打洞法求解以及利用特征值求解等，具体方法我们将在下一讲中作为拓展展开讲解.

事实上，范德蒙行列式有着广泛的应用，在此我们证明\autoref{thm:4:覆盖定理}的有限维情形作为一个例子：
\begin{example}\label{ex:11:行列式证明覆盖定理}
    设$V_1,V_2,\ldots,V_s$是有限维线性空间$V$的$s$个非平凡子空间，证明：$V$中至少存在一个向量
    不属于$V_1,V_2,\ldots,V_s$中的任何一个，即$V_1 \cup V_2 \cup \cdots \cup V_s\subsetneq V.$
\end{example}
\begin{proof}
    设$\dim V=n$，设$\vec{\alpha_1},\vec{\alpha_2},\cdots,\vec{\alpha_n}$为$V$的一组基，构造向量组$\{\vec{\beta_k}\}$中每个元素满足
    \[\vec{\beta_k}=\vec{\alpha_1}+k\vec{\alpha_2}+\cdots+k^{n-1}\alpha_n,k=1,2,3,\cdots\]
    任取上述向量组中的$n$个向量$\vec{\beta_{k_1}},\vec{\beta_{k_2}},\cdots,\vec{\beta_{k_n}}$，其中
    $k_1<k_2<\cdots<k_n$，则有
    \[(\vec{\beta_{k_1}},\vec{\beta_{k_2}},\cdots,\vec{\beta_{k_n}})=(\vec{\alpha_1},\vec{\alpha_2},\cdots,\vec{\alpha_n})C\]
    其中
    \[C=\begin{pmatrix}
        1 & 1 & \cdots & 1 \\
        k_1 & k_2 & \cdots & k_n \\
        \vdots & \vdots &  & \vdots \\
        k_1^{n-1} & k_2^{n-1} & \cdots & k_n^{n-1}
    \end{pmatrix}.\]
    则$|C|$是一个范德蒙行列式，由范德蒙行列式的性质可知$|C| \neq 0$，因此$C$可逆，又由于
    $\vec{\alpha_1},\vec{\alpha_2},\cdots,\vec{\alpha_n}$是$V$的一组基，因此
    $\vec{\beta_{k_1}},\vec{\beta_{k_2}},\cdots,\vec{\beta_{k_n}}$线性无关，从而
    向量组$\{\vec{\beta_k}\}$中任意$n$个向量均构成$V$的一组基.

    由于$V_1,V_2,\ldots,V_s$是$V$的非平凡子空间，因此每个子空间最多包含$\{\vec{\beta_k}\}$中$n-1$个向量，
    进而$V_1\cup V_2\cup\ldots\cup V_s$只包含$\{\vec{\beta_k}\}$中有限个向量，
    所以必然存在一个向量$\vec{\beta}_j$使得$\vec{\beta}_j \notin V_1\cup V_2\cup\ldots\cup V_s$.
\end{proof}

\section{伴随矩阵}
伴随矩阵是一个重要的概念，其性质都比较经典，而且往年也有考察.
\subsection{伴随矩阵的定义与性质}
\begin{definition}
    称矩阵$A^*=\begin{pmatrix}
        A_{11} & A_{21} & \cdots & A_{n1} \\
        A_{12} & A_{22} & \cdots & A_{n2} \\
        \vdots & \vdots & \ddots & \vdots \\
        A_{1n} & A_{2n} & \cdots & A_{nn}
    \end{pmatrix}$为$A$的\keyterm{伴随矩阵}[adjugate matrix]，其中$A_{ij}$是元素$a_{ij}$的代数余子式.
\end{definition}
我们要特别注意伴随矩阵代数余子式的下标与通常矩阵下标不一致，与转置下标一致.
伴随矩阵具有以下几个重要性质，请各位同学掌握其证明并理解：
\begin{example} \label{ex:11:伴随矩阵}
    证明下列关于$n$阶矩阵$A$的伴随矩阵$A^*$的性质：
    \begin{enumerate}
        \item $AA^*=A^*A=|A|E$，若$A$可逆，则有$A^{-1}=|A|^{-1}A^*$，$A^*=|A|A^{-1}$，$(A^*)^{-1}=(A^{-1})^*=|A|^{-1}A$.

        \item $r(A^*)=\begin{cases}
        n & r(A)=n \\ 1 & r(A)=n-1 \\ 0 & r(A) < n-1
    \end{cases}$.

        \item $|A^*|=|A|^{n-1}$，无论$A$是否可逆.

        \item $(AB)^*=B^*A^*$，$(A^\mathrm{T})^*=(A^*)^\mathrm{T}$，$(kA)^*=k^{n-1}A^*$，要求掌握$A$可逆时的证明，
        若不可逆则需要使用第二节习题C组中对角占优的推论证明.

        \item $(A^*)^*=|A|^{n-2}A$，$|(A^*)^*|=|A|^{(n-1)^2}$，无论$A$是否可逆（本题结论可以推广到更多重的伴随矩阵）.

        \item 对正整数$k$，$(A^k)^*=(A^*)^k$.
    \end{enumerate}
\end{example}

在计算行列式时若出现伴随矩阵，我们经常使用\autoref{ex:11:伴随矩阵} 中的1，3进行计算.

使用伴随矩阵求逆矩阵是一种矩阵求逆的方式，我们通过一个简单的例子复习伴随矩阵的基本定义和性质：
\begin{example}
    判断矩阵$\begin{pmatrix}
        1 & 2 & 3 \\ 2 & 1 & 2 \\ 1 & 3 & 3
    \end{pmatrix}$是否可逆. 若可逆，利用伴随矩阵求其逆矩阵.
\end{example}

\section{Cramer法则}
本节内容大家了解即可，要了解Cramer法则的内容及其与线性方程组的关系.教材中还有部分几何的内容，
感兴趣的同学可以了解，当然一般而言几何部分不会考察.
\subsection{Cramer法则}
\begin{theorem} \keyterm{Cramer法则} \label{thm:11:Cramer}
    对线性方程组
    \begin{gather}
        \label{eq:11:线性方程组1}
        \left\{ \begin{array}{rcl}
            a_{11}x_1+a_{12}x_2+\cdots+a_{1n}x_n&=&0 \\
            a_{21}x_1+a_{22}x_2+\cdots+a_{2n}x_n&=&0 \\
            &\vdots& \\
            a_{n1}x_1+a_{n2}x_2+\cdots+a_{nn}x_n&=&0
        \end{array} \right.
        \\
        \label{eq:11:线性方程组2}
        \left\{ \begin{array}{rcl}
            a_{11}x_1+a_{12}x_2+\cdots+a_{1n}x_n&=&b_1 \\
            a_{21}x_1+a_{22}x_2+\cdots+a_{2n}x_n&=&b_2 \\
            &\vdots& \\
            a_{n1}x_1+a_{n2}x_2+\cdots+a_{nn}x_n&=&b_n
        \end{array} \right.
    \end{gather}

    令$D=\begin{vmatrix}
        a_{11} & a_{12} & \cdots & a_{1n} \\
        a_{21} & a_{22} & \cdots & a_{2n} \\
        \vdots & \vdots & \ddots & \vdots \\
        a_{n1} & a_{n2} & \cdots & a_{nn}
    \end{vmatrix},D_1=\begin{vmatrix}
        b_1 & a_{12} & \cdots & a_{1n} \\
        b_2 & a_{22} & \cdots & a_{2n} \\
        \vdots & \vdots & \ddots & \vdots \\
        b_n & a_{n2} & \cdots & a_{nn}
    \end{vmatrix},\ldots,D_n=\begin{vmatrix}
        a_{11} & a_{12} & \cdots & b_1 \\
        a_{21} & a_{22} & \cdots & b_2 \\
        \vdots & \vdots & \ddots & \vdots \\
        a_{n1} & a_{n2} & \cdots & b_n
    \end{vmatrix}$，其中$D$称为系数行列式.
    \begin{enumerate}
        \item 方程组 \ref{eq:11:线性方程组1} 只有零解$\iff D \neq 0$，有非零解（无穷多解）$\iff D=0$，即$r(A)<n$；

        \item 方程组 \ref{eq:11:线性方程组2} 有唯一解$\iff D \neq 0$，此时$x_i=\dfrac{D_i}{D}\enspace(i=1,2,\ldots,n)$，
        当$D=0$时，方程组 \ref{eq:11:线性方程组2} 要么无解，要么有无穷多解.
    \end{enumerate}
\end{theorem}
我们可以用 Cramer 法则求解线性方程组，但要注意只有方程个数与未知数个数相等时才能使用，
并且需要系数行列式不为0.
\begin{example}
    求解方程组$\begin{cases}
        x_1+x_2+x_3=1 \\
        a_1x_1+a_2x_2+a_3x_3=0 \\
        a_1^2x_1+a_2^2x_2+a_3^2x_3=0
    \end{cases}$，其中$a_1,a_2,a_3$两两不等.
\end{example}

\section{行列式的秩}
\subsection{行列式的秩}
首先我们需要给出矩阵的子式、主子式的定义，然后给出相关的顺序主子式的定义.
\begin{definition}
    矩阵$A=(a_{ij})_{n \times n}$的任意$k$行（$i_1<i_2<\cdots<i_k$行）和
    任意$k$列（$j_1<j_2<\cdots<j_k$列）的交点上的$k^2$个元素排成的行列式
    \[\begin{vmatrix}
        a_{i_1j_1} & a_{i_1j_2} & \cdots & a_{i_1j_k} \\
        a_{i_2j_1} & a_{i_2j_2} & \cdots & a_{i_2j_k} \\
        \vdots & \vdots & \ddots  & \vdots \\
        a_{i_kj_1} & a_{i_kj_2} & \cdots & a_{i_kj_k}
    \end{vmatrix}\]
    称为矩阵$A$的一个$k$阶子式，若子式等于0则称$k$阶零子式，否则称非零子式.
    当$A$为方阵且$i_t=j_t\enspace(t=1,2,\ldots,k)$（即选取相同行列）时，称为$A$的
    $k$阶\keyterm{主子式}[principal minor]. 若$i_t=j_t=t\enspace(t=1,2,\ldots,k)$，称为$A$的$k$阶\keyterm{顺序主子式}[leading principal minor]
    （取前$k$行$k$列的左上角主子式）.
\end{definition}
\begin{example}
    写出矩阵$\begin{pmatrix}
        1 & 5 & -2 \\ 2 & 3 & 4 \\ -1 & -3 & 0
    \end{pmatrix}$的所有一阶、二阶子式、主子式和顺序主子式.
\end{example}
接下来我们给出行列式的秩的定义.
\begin{definition}
    矩阵$A$的非零子式的最高阶数$r$称为$A$的行列式秩.
\end{definition}
\raggedright 其含义为$A$至少有一个$r$阶子式不为0，但所有$r+1$阶子式均为0.根据教材定理：
\begin{theorem}
    矩阵$A$的秩$r(A)=r \iff A$的行列式的秩为$r$.
\end{theorem}
\raggedright 我们可以得到上一个专题中矩阵的秩的等价定义.
\begin{definition}
    矩阵$A$的非零子式的最高阶数$r$称为矩阵$A$的秩，记为$r(A)$.
\end{definition}
\begin{example}
    利用定义求矩阵$\begin{pmatrix}
        1 & 1 & -1 & 3 \\ 1 & 2 & 1 & 1 \\ 2 & 3 & 0 & 4
    \end{pmatrix}$的行列式秩.
\end{example}
\subsection{关于秩的总结}
本学期我们一共学习了四个秩的概念：向量组的秩，线性映射的秩，矩阵的秩和行列式的秩.
事实上，我们在矩阵三秩相等性的证明中通过维数公式以及正交补等统一了向量组的秩（行秩、列秩的定义基于向量组的秩）
和线性映射的秩（矩阵的秩的定义基于线性映射的秩），在行列式一章中统一了矩阵的秩和行列式的秩
（利用行列式不为0与可逆的等价性）. 至此我们统一了这四个秩，我们了解到虽然线性映射的秩、矩阵的秩、
行列式的秩的定义各不相同，但本质都在于向量组的秩（回顾线性映射的秩的定义，矩阵三秩相等以及行列式子式
不为0与矩阵可逆的关系，矩阵可逆与向量组的秩的关系）. 这给我们的启示是上述提到的概念都可以互相转化考虑.
例如考虑可逆时，我们可以考虑行、列向量是否线性无关/矩阵对应的线性映射是否可逆/行列式是否为0等.
虽然说起来很简单，但是实际做题的时候很多同学还是容易思维局限，因此我们需要将这些概念的统一性放在重要的位置.

\vspace{2ex}
\centerline{\heiti \Large 内容总结}

\vspace{2ex}

\centerline{\heiti \Large 习题}
\vspace{2ex}
{\kaishu }
\begin{flushright}
    \kaishu

\end{flushright}
\centerline{\heiti A组}
\begin{enumerate}
    \item
\end{enumerate}
\centerline{\heiti B组}
\begin{enumerate}
    \item
\end{enumerate}
\centerline{\heiti C组}
\begin{enumerate}
    \item
\end{enumerate}
